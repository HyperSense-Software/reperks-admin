import React from 'react';
import Link from 'next/link';
import { ChevronLeft } from 'lucide-react';
import { cn } from '@udecode/cn';
import { SidebarProps } from '@/components/layout/sidebar/sidebar.props';
import { useSidebar } from '@/hooks/useSidebar';
import { navItems } from '@/constants/navigation.constants';
import { DashboardNav } from '@/components/ui/dashboard-nav';

export default function Sidebar({ className }: SidebarProps) {
  const { isMinimized, toggle } = useSidebar();

  const handleToggle = () => {
    toggle();
  };

  return (
    <aside
      className={cn(
        `relative hidden h-screen flex-none border-r bg-card transition-[width] duration-500 lg:block`,
        !isMinimized ? 'w-64' : 'w-[72px]',
        className,
      )}
    >
      <div className="hidden p-5 pt-10 lg:block">
        <Link href={'https://github.com/Kiranism/next-shadcn-dashboard-starter'} target="_blank">
          <svg
            width="24"
            height="24"
            viewBox="0 0 64 64"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clipPath="url(#clip0_15770_11451)">
              <rect width="64" height="64" rx="32" fill="white" />
              <circle cx="32" cy="32" r="32" fill="white" />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M55.9656 49.6846L43.9741 36.3701C43.9146 36.3036 43.8349 36.2583 43.7472 36.2414L32.7338 34.1455C32.7076 34.1406 32.6804 34.1461 32.6582 34.1608C32.647 34.1683 32.6375 34.178 32.6301 34.1892C32.6226 34.2004 32.6175 34.2129 32.6149 34.2261C32.6124 34.2393 32.6124 34.2529 32.6151 34.266C32.6178 34.2792 32.6231 34.2917 32.6306 34.3028C36.8066 40.5236 39.7889 45.1981 41.5775 48.3262C44.2889 53.0684 44.5598 54.6934 43.6113 57.5389C43.1555 58.9045 42.4503 59.8023 41.6449 60.2966L41.9127 60.2047C47.5445 58.2253 52.456 54.6092 56.0167 49.8204C56.0169 49.7704 55.9987 49.7221 55.9656 49.6846ZM38.866 60.5193C37.103 59.8421 30.3249 55.2357 20.0208 44.1253C13.2175 36.7898 7.87667 29.4094 3.9984 21.9841C3.98624 21.9605 3.96534 21.9425 3.94015 21.9341C3.9146 21.9255 3.88668 21.9273 3.86247 21.9392C2.70879 25.1679 2.12102 28.5713 2.12502 31.9996C2.12502 48.4947 15.5136 61.8746 32.0194 61.8746C34.7869 61.877 37.5413 61.4954 40.2039 60.7409C39.7473 60.7618 39.2914 60.6863 38.866 60.5193Z"
                fill="#97A7B5"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M61.8379 34.1357C61.6772 36.4214 61.253 38.681 60.5736 40.8695C60.5611 40.8786 60.5466 40.8846 60.5314 40.8873C60.5162 40.8899 60.5006 40.8891 60.4857 40.8848C60.4644 40.8794 60.4457 40.8667 60.4326 40.8491L57.2643 36.7912C57.2559 36.7806 57.2497 36.7685 57.246 36.7555C57.2424 36.7426 57.2413 36.729 57.2429 36.7156C57.2445 36.7022 57.2488 36.6893 57.2554 36.6775C57.2621 36.6658 57.271 36.6555 57.2816 36.6472C57.2915 36.64 57.3026 36.6344 57.3143 36.6309C58.4243 36.2809 59.3264 35.889 60.0207 35.4553C60.6434 35.0739 61.1936 34.5853 61.6457 34.0121C61.654 34.0014 61.6643 33.9925 61.6761 33.9859C61.6878 33.9793 61.7007 33.975 61.7141 33.9734C61.7275 33.9718 61.7411 33.9728 61.7541 33.9765C61.7671 33.9801 61.7792 33.9863 61.7898 33.9947C61.8091 34.01 61.8221 34.0318 61.8266 34.056L61.8379 34.1357Z"
                fill="#F66847"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M36.9346 27.7321C36.9294 27.7587 36.9139 27.782 36.8915 27.7972C36.8691 27.8123 36.8416 27.8179 36.815 27.8128L36.7322 27.7975C34.5853 27.389 33.1269 27.1414 32.3569 27.055C32.1062 27.0271 31.8946 26.9951 31.7223 26.959L31.6936 26.9528C31.6156 26.9326 31.5424 26.8972 31.4781 26.8487C31.4138 26.8002 31.3597 26.7395 31.3189 26.67C31.278 26.6006 31.2513 26.5238 31.2402 26.444C31.2291 26.3643 31.2339 26.2831 31.2542 26.2052L31.2767 26.1204C31.4444 25.491 31.5785 24.8531 31.6783 24.2094C31.7628 23.6184 31.9267 22.6311 32.1699 21.2475C32.1736 21.2267 32.1836 21.2075 32.1986 21.1927C32.2137 21.1778 32.2329 21.1679 32.2538 21.1645C32.2746 21.161 32.296 21.1641 32.315 21.1733C32.3341 21.1825 32.3498 21.1973 32.36 21.2158L32.4305 21.3445C33.0164 22.4302 33.6708 23.4775 34.3898 24.4801C35.0711 25.415 35.9119 26.4704 36.9121 27.6463C36.9221 27.658 36.9293 27.6718 36.9332 27.6867C36.9371 27.7015 36.9376 27.7171 36.9346 27.7321Z"
                fill="#F66847"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M61.874 30.4557C61.8651 30.4682 61.8535 30.4786 61.8401 30.486C61.8266 30.4934 61.8117 30.4977 61.7964 30.4986C61.7809 30.4996 61.7654 30.4971 61.7511 30.4913C61.7367 30.4854 61.7239 30.4764 61.7136 30.4649C61.5203 30.2409 61.2802 30.0621 61.0102 29.941C60.7401 29.8199 60.4468 29.7596 60.1509 29.7642H59.8044C58.9807 29.7642 57.5386 29.7591 56.119 29.7275H55.9677C55.1327 29.7081 54.3141 29.6774 53.6426 29.6335C52.8999 29.5831 52.2792 29.547 51.7805 29.5252C51.4576 29.5107 51.1413 29.4299 50.8511 29.2877C50.561 29.1456 50.3033 28.9451 50.0941 28.699C49.4237 27.9105 48.7535 27.0477 48.0838 26.1108C47.3387 25.067 45.6084 22.5483 43.8188 20.0194L43.6236 19.7436C42.2224 17.7632 40.8049 15.8113 39.8145 14.5857C37.5088 11.7402 35.6109 9.97934 33.8489 9.97934C32.0869 9.97934 30.8656 12.689 30.3239 14.0434C29.7823 15.3977 28.9677 19.0613 28.5609 22.0417C28.3143 23.8475 28.144 25.5409 28.0499 27.122L28.0397 27.2976C28.0389 27.3111 28.0355 27.3242 28.0296 27.3363C28.0238 27.3484 28.0155 27.3592 28.0055 27.3681C27.9954 27.377 27.9837 27.3839 27.971 27.3883C27.9583 27.3926 27.9448 27.3945 27.9314 27.3936C27.9159 27.3927 27.9009 27.3882 27.8875 27.3806C27.874 27.373 27.8625 27.3624 27.8537 27.3497C25.5603 24.0133 23.2668 20.9342 20.9734 18.1125C17.5894 13.9504 15.3297 11.6615 14.3149 10.6453L14.2229 10.5544L14.1943 10.5248C13.6199 9.95074 13.2315 9.48841 13.0291 9.13774L13.0128 9.10812C13.0014 9.08763 12.9975 9.06387 13.0016 9.04081C13.0057 9.01775 13.0176 8.9968 13.0353 8.98147C13.5722 8.51572 14.1575 8.04998 14.7911 7.58424C19.8284 4.02377 25.8486 2.11603 32.0185 2.12503C48.0133 2.12503 61.0697 14.6735 61.874 30.4557Z"
                fill="#F66847"
              />
            </g>
            <defs>
              <clipPath id="clip0_15770_11451">
                <rect width="64" height="64" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </Link>
      </div>
      <ChevronLeft
        className={cn(
          'absolute -right-3 top-10 z-50 cursor-pointer rounded-full border bg-background text-3xl text-foreground',
          isMinimized && 'rotate-180',
        )}
        onClick={handleToggle}
      />
      <div className="space-y-4 py-4">
        <div className="px-3 py-2">
          <div className="mt-3 space-y-1">
            <DashboardNav items={navItems} />
          </div>
        </div>
      </div>
    </aside>
  );
}
